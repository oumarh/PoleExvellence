<div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
    <nav class="col-12 col-md-3 col-lg-2 bg-light vh-100 p-3">
        <ul class="nav flex-column">
          <li class="nav-item mb-2">
            <a routerLink="/dashboard" class="nav-link active">Dashboard</a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/administrateur" class="nav-link">Administrateur</a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/admin-formation" class="nav-link">Formation</a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/offre" class="nav-link">Offres Entrepreneurial</a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/candidat" class="nav-link">Candidats</a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/entrepreneur" class="nav-link">Entrepreneur</a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/admin-blog" class="nav-link">Blog</a>
          </li>
          <li class="nav-item">
            <a routerLink="/categorie" class="nav-link">Catégorie</a>
          </li>
          <li class="nav-item mt-4">
          <button class="btn btn-outline-danger w-100" (click)="logout()">Déconnexion</button>
        </li>
        </ul>
      </nav>
      <main class="col-md-9 py-4">
        <h2>Ajouter un Article</h2>
        <form [formGroup]="article" (ngSubmit)="onSubmit()"  class="row g-3">
  
          <!-- Titre -->
          <div class="col-md-6">
            <label for="titre" class="form-label">Titre de l’article</label>
            <input
              id="titre"
              name="titre"
              class="form-control"
              required
              formControlName="titre"
            />
          </div>
  
          <!-- Catégorie -->
          <div class="col-md-6">
            <label for="categorie" class="form-label">Catégorie</label>
            <select
              id="categorie"
              name="categorie"
              class="form-select"
              required
              formControlName="categorieid"
              
            >
              <option value="" disabled selected>Choisissez…</option>
              <option *ngFor="let c of categories" value={{c.id}} >{{ c.nom }}</option>
            </select>
          </div>
  
          <!-- Contenu -->
          <div class="col-12">
            <label class="form-label">Contenu de l’article</label>
  
            <!-- On n’instancie <ckeditor> que si l’Editor est chargé -->
              <!-- <ngx-editor
              [editor]="editor"
              [toolbar]="toolbar"
              formControlName="contenu"
            ></ngx-editor> -->
            <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"></ngx-editor-menu>
  <ngx-editor [editor]="editor" formControlName="contenu" class="custom-editor"></ngx-editor>
  
            <!-- Fallback minimal en SSR ou si l’Editor n’est pas encore prêt -->
            <!-- <ng-template #plainTextarea>
              <textarea
                class="form-control"
                rows="10"
                formControlName="contenu"
                name="content"
              ></textarea>
            </ng-template> -->
          </div>
  
          <!-- Image -->
          <div class="col-md-6">
            <label for="image" class="form-label">Image</label>
            <input
              type="file"
              id="image"
              name="ImageUrl"
              class="form-control"
              accept="image/*"
              (change)="onFileSelected($event)"
            />
          </div>
  
          <!-- Bouton Publier -->
          <div class="col-12 d-flex gap-2">
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="article.invalid"
            >
              Publier l’article
            </button>
            <button type="button" class="btn btn-secondary" (click)="onCancel()">Annuler</button>
          </div>
        </form>
      </main>
    </div>
  </div>
  