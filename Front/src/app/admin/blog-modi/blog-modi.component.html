<section
  class="offer-hero position-relative text-center text-white mb-5" *ngIf="imagePreview">
  <img [src]="imagePreview" [alt]="'Bannière de ' + imagePreview" class="img-fluid w-100 " 
style="object-fit: cover; height: 600px;"> 
  <div
    class="overlay position-absolute top-0 start-0 end-0 bottom-0"
  ></div>
  <div
    class="position-relative d-flex align-items-center justify-content-center h-100"
  >
    <h1 class="fw-bold">Modification d'Article</h1>
  </div>
</section>

<div class="container mb-5">
    
        <h2>Modification  d'un Article</h2>
        <form [formGroup]="article" (ngSubmit)="onSubmit()"  class="row g-3">
  
          <!-- Titre -->
          <div class="col-md-6">
            <label for="titre" class="form-label">Titre de l’article</label>
            <input
              id="titre"
              name="titre"
              class="form-control"
              required
              formControlName="titre"
            />
          </div>
  
          <!-- Catégorie -->
          <div class="col-md-6">
            <label for="categorie" class="form-label">Catégorie</label>
            <select
              id="categorie"
              name="categorie"
              class="form-select"
              required
              formControlName="categorieid"
              
            >
              <option value="" disabled selected>Choisissez…</option>
              <option *ngFor="let c of categories" value={{c.id}} >{{ c.nom }}</option>
            </select>
          </div>
  
          <!-- Contenu -->
          <div class="col-12">
            <label class="form-label">Contenu de l’article</label>
  
            <!-- On n’instancie <ckeditor> que si l’Editor est chargé -->
              <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"></ngx-editor-menu>
  <ngx-editor [editor]="editor" formControlName="contenu" class="custom-editor"></ngx-editor>
  
            <!-- Fallback minimal en SSR ou si l’Editor n’est pas encore prêt -->
            <!-- <ng-template #plainTextarea>
              <textarea
                class="form-control"
                rows="10"
                formControlName="contenu"
                name="content"
              ></textarea>
            </ng-template> -->
          </div>
  
         <!-- Image -->
          <div class="col-md-6">
            <label for="image" class="form-label">Image</label>
            <input
              type="file"
              id="image"
              name="image"
              class="form-control"
              accept="image/*"
              (change)="onFileSelected($event)"
            />
          </div>
  
          <!-- Bouton Publier -->
          <div class="col-12 d-flex gap-2">
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="article.invalid"
            >
              Publier l’article
            </button>
            <button type="button" class="btn btn-secondary" (click)="onCancel()">Annuler</button>
          </div>
        </form>
  </div>
  